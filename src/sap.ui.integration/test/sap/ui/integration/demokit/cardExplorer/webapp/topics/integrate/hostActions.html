<!DOCTYPE html>
<html lang="en">

<head>
	<title>Host Actions</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script data-require-ui5-init src="../../scripts/boot.js"></script>
	<script>
		function init() {
			sap.ui.require([
				"sap/m/FlexBox",
				"sap/ui/integration/widgets/Card",
				"sap/ui/integration/Host",
				"sap/m/MessageToast"
			], function (FlexBox, Card, Host, MessageToast) {
				const oHost = new Host({
					actions: [
						{
							type: 'Navigation',
							icon: 'sap-icon://world',
							text: 'Open SAP website',
							tooltip: 'Open www.sap.com',
							url: 'https://www.sap.com',
							target: '_blank'
						},
						{
							type: 'Custom',
							icon: 'sap-icon://add',
							text: 'Add to mobile',
							tooltip: 'Add card to your mobile',
							action: function (oCard, oButton) {
								MessageToast.show("Added to mobile: " + oCard.getManifestEntry("/sap.app/title"));
							}
						}
					]
				});

				const oCard = new Card({
					id: "quickLinksCardExample",
					manifest: "./manifests/quickLinksCard.manifest.json",
					width: "352px",
					host: oHost
				}).addStyleClass("sapUiSmallMargin");

				const oFlexBoxCardExample = new FlexBox({
					direction: "Row",
					wrap: "Wrap",
					justifyContent: "Start",
					alignItems: "Stretch",
					width: "100%",
					items: [oCard]
				});

				oFlexBoxCardExample.placeAt("cardContainer");
			});
		};
	</script>
</head>

<body class="sapUiBody topicBody">
	<div class="topic">
		<div class="content">

			<h1 id="hostActions">
				Host Actions
			</h1>

			<h2 id="overview">
				Overview
			</h2>

			<p>
				In addition to the <a href="../../index.html#/learn/actions" target="_parent">Card
					Actions</a>,
				a card can have optional application-level actions depending on the host environment.
				Examples may include, but are not limited to options like: share a card, remove a card.
				<br />
				<br />
				When there are host actions defined, an additional toolbar is displayed in the card, which opens a menu:
				<br />
				<div id="cardContainer"></div>
				<br />
				Each host action is represented as a menu item in the toolbar.
				The menu item options can be specified.
				The host action may be managed as enabled or visible depending on the card.
			</p>

			<p>
				Each host action can be specified with the following settings:
			</p>

			<div class="tableWrapper">
				<table>
					<tr>
						<th>Property</th>
						<th>Type</th>
						<th>Required</th>
						<th>Description</th>
					</tr>
					<tr>
						<td>type</td>
						<td>string</td>
						<td>Yes</td>
						<td>The type of the action. Possible values: "Navigation", "Submit" and "Custom".</td>
					</tr>
					<tr>
						<td>text</td>
						<td>string</td>
						<td>No</td>
						<td>The text of the action button.</td>
					</tr>
					<tr>
						<td>icon</td>
						<td>string</td>
						<td>No</td>
						<td>The icon of the action button.</td>
					</tr>
					<tr>
						<td>tooltip</td>
						<td>string</td>
						<td>No</td>
						<td>The tooltip of the action button.</td>
					</tr>
					<tr>
						<td>buttonType</td>
						<td>string</td>
						<td>No</td>
						<td>The type of the action button.<br>
						<b>Note:</b> Deprecated since 1.130 All <code>ActionDefinitions</code> are now rendered as menu items and don't have <code>buttonType</code>.<br>
						</td>
					</tr>
					<tr>
						<td>enabled</td>
						<td>boolean/function</td>
						<td>No</td>
						<td>If the action is enabled. Default value is true.</td>
					</tr>
					<tr>
						<td>visible</td>
						<td>boolean/function</td>
						<td>No</td>
						<td>If the action is visible. Default value is true.</td>
					</tr>
					<tr>
						<td>action</td>
						<td>function</td>
						<td>No</td>
						<td>The action function.</td>
					</tr>
					<tr></tr>
						<td>startsSection</td>
						<td>Object</td>
						<td>No</td>
						<td>Defines whether a visual separator should be rendered before the item. Default value is false.</td>
					</tr>
					<tr>
						<td>parameters</td>
						<td>Object</td>
						<td>No</td>
						<td>The parameters of the action.</td>
					</tr>
				</table>
			</div>

			<h2 id="examples">
				Example
			</h2>

			<p>An example with a card and host actions would look like:</p>

			Controller
			<pre class="lang-js">
// Host required from "sap/ui/integration/Host"
const oHost = new Host({
	actions: [
		{
			type: 'Custom',
			icon: 'sap-icon://add',
			text: 'Action name',
			action: function (oCard, oButton) {
				// do some action
			},
			enabled: function (oCard) {
				// return whether this host action
				// should be enabled in the card
				return true;
			},
			visible: function (oCard) {
				// return whether this host action
				// should be visible in the card
				return true;
			}
		},
		...
	]
});

this.getView().byId('card1').setHost(oHost);</pre>

			XML View
			<pre class="lang-xml">
&lt;mvc:View xmlns:w="sap.ui.integration.widgets"&gt;
	&lt;w:Card id="card1" manifest="./manifest.json" /&gt;
&lt;/mvc:View&gt;</pre>
			<a class="try-button" href="../../index.html#/explore/hostActions" target="_parent">Try it Out</a>
		</div>
	</div>
</body>

</html>